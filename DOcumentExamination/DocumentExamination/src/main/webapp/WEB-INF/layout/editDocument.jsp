<%-- 
    Document   : editDocument
    Created on : Jul 3, 2015, 11:19:39 AM
    Author     : VVolgina
--%>

<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="sf" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="s" uri="http://www.springframework.org/tags"%>
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<div>

    <sf:form method="POST" commandName="documentForm" cssClass="contact_form" enctype="multipart/form-data">
        <!--??????? ??????????? ?????? ??? ???? ????? ????? sf:errors path="*" element="div"/
        ??? ????? ???????? ?????? ???? input ?????????? cssErrorClass, ???? ????? ?????? ? ??????? ??????
        ??????? ????? ?????????? ??? ?????? ????? ?????????? ????? ??? ??-->
        <ul>
            <li>
                <h1>Редактирование документа</h1>
                <!-- target="_blank" ???????? ? ????? ???????-->
                <c:if test="${documentForm.filePath.length()>1}">
                    <a href="<c:out value="/${documentForm.filePath}"/>" target="_blank"><c:out value="${documentForm.fileName}"/></a>
                </c:if>
            </li>
            <li>
                <sf:label path="name">Название:</sf:label> <sf:input path="name"/> <sf:errors path="name"/>
                </li>
                <li>
                <sf:label path="number">Номер: </sf:label><sf:input path="number"/> <sf:errors path="number"/>
                </li>
                <li>
                <sf:label path="description">Краткое описание:</sf:label> <sf:textarea path="description"/> <sf:errors path="description"/>
                </li>
                <li>
                <sf:label path="typeID">Тип:</sf:label> <sf:select path="typeID">  
                    <sf:options items="${types}" itemLabel="name" itemValue="id"/>
                </sf:select>
            </li>
            <li>
                <sf:label path="departmentID">Группа:</sf:label>
                <sf:select path="departmentID">  
                    <sf:option  label="Все" value="0"/>
                    <sf:options items="${departments}" itemLabel="name" itemValue="id"/>
                </sf:select>
            </li>
            <li>
                <!--????? ????????? type, ????? ??????? ????????? ???????????? ????, ????????????? ??? Html5
                           cssStyle - ????? Css-->
                <sf:label path="startDate">Дата регистрации: </sf:label> <sf:input cssClass="on_top" path="startDate" type="text" onfocus="this.select();lcs(this)"  onclick="event.cancelBubble=true;this.select();lcs(this)" class="calendar3"/>  <sf:errors path="startDate" />
                </li>
                <li>
                <sf:input type="file" path="file" accept="application/msword, application/pdf, application/rtf, application/excel, image/bmp, image/gif, image/jpeg, image/png, image/tiff"/> 
            </li>
            <li>

                <button class="submit" type="submit" name="OK">ОК</button>
                <!--????????? ??? ?????????? ????? ?? ???????? ?? ???????, ??????????? ???? ???????? ? ??????????
??? ? ??????????, ??????? ????? ? ???????????????????????? ? ???????.
????? ?? ????? ?????????? ? ????????? ? ???????? href ??????? ???????? ???? ??? URL
????? ???????? ?????????, ?????????? ???? param ?????? url, 
????? ???????????? HtmlEscape="true" ? ????????????? ?? ??????, ? ??????????????? ?? ?????
javaScriotEacape  ??????? ?????? ? ????? ?????????? ??? JavaScript-->
                <s:url value="/director/documents" var="backURL"/>
                <a href="${backURL}">Назад</a>
                <sf:hidden path="fileName"/>
            </li>
        </ul>
    </sf:form>

</div>
